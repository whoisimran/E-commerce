{"ast":null,"code":"var _jsxFileName = \"/home/techinfini-19/Desktop/react-tut/shopping/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n\n  const loginhandle = async () => {\n    let email = document.getElementById('email').value;\n    let password = document.getElementById('password').value;\n    let response = await fetch(`http://localhost:8080/api/user/login`, {\n      method: \"POST\",\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    });\n    let res = await response.json();\n\n    if (res.success) {\n      localStorage.setItem('id', res.message._id);\n      localStorage.setItem('role', res.message.role);\n\n      if (res.message.role == 'admin') {\n        navigate('/home');\n      } else {\n        navigate('/profile');\n      }\n    } else {\n      alert('Invalid Login Details!');\n    }\n  };\n\n  const hideshow = () => {\n    let element = document.getElementById('togglePassword');\n    element.classList.toggle(\"fa-eye-slash\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Login Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Enter Email Id\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"email\",\n        id: \"email\",\n        placeholder: \"Enter Eamil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Enter Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"password\",\n        id: \"password\",\n        placeholder: \"Enter password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fa fa-eye field-icon\",\n        id: \"togglePassword\",\n        onClick: hideshow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loginhandle,\n        className: \"btn btn-block btn-primary\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Not Register? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/registration\",\n        children: \"Click here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Login","navigate","loginhandle","email","document","getElementById","value","password","response","fetch","method","headers","body","JSON","stringify","res","json","success","localStorage","setItem","message","_id","role","alert","hideshow","element","classList","toggle"],"sources":["/home/techinfini-19/Desktop/react-tut/shopping/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n    const navigate = useNavigate();\n\n    const loginhandle = async () => {\n        let email = document.getElementById('email').value;\n        let password = document.getElementById('password').value;\n        let response = await fetch(`http://localhost:8080/api/user/login`, {\n          method: \"POST\",\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ email: email, password: password })\n        });\n        let res = await response.json();\n        if (res.success) {\n          localStorage.setItem('id', res.message._id);\n          localStorage.setItem('role', res.message.role);\n          if(res.message.role == 'admin'){\n            navigate('/home');\n          }else{\n            navigate('/profile');\n          }\n        } else {\n          alert('Invalid Login Details!');\n        }\n    }\n\n    const hideshow = ()=>{\n      let element = document.getElementById('togglePassword');\n      element.classList.toggle(\"fa-eye-slash\");\n    }\n\n    return (\n        <div className='card'>\n            <h3>Login Page</h3>\n      \n            <div className='form-group'>\n                <label>Enter Email Id</label>\n                <input className='form-control' type=\"email\" id=\"email\" placeholder=\"Enter Eamil\" />\n            </div>\n\n            <div className='form-group'>\n                <label>Enter Password</label>\n                <input className='form-control' type=\"password\" id=\"password\" placeholder=\"Enter password\" />\n                <i class=\"fa fa-eye field-icon\" id=\"togglePassword\" onClick={hideshow}></i>\n            </div>\n\n            <div className='form-group'>\n                <button onClick={loginhandle} className='btn btn-block btn-primary'>Login</button>\n            </div>\n            <p>Not Register? <Link to='/registration'>Click here</Link></p>\n\n        </div>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}