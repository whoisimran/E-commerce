{"ast":null,"code":"var _jsxFileName = \"/home/techinfini-19/Desktop/react-tut/room/src/components/Booking_list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Booking_list = () => {\n  _s();\n\n  const [data, setdata] = useState([]);\n  useEffect(() => {\n    getuser();\n  }, []);\n\n  const selecthandler = async (e, room_id, booking_id) => {\n    console.log('value >> ', e.target.value);\n    console.log('room Id >> ', room_id);\n    let status = \"\";\n\n    if (e.target.value == 'checkOut') {\n      status = 'available';\n    } else {\n      status = 'Booked';\n    }\n\n    let response = await fetch(`http://localhost:8080/api/room/${room_id}`, {\n      method: \"PATCH\",\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        status: status\n      })\n    });\n    let res = await response.json();\n\n    if (res.success) {\n      let response2 = await fetch(`http://localhost:8080/api/booking/${booking_id}`, {\n        method: \"PATCH\",\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status: e.target.value\n        })\n      });\n      let res2 = await response2.json();\n\n      if (res2.success) {\n        alert('Update Successfully!');\n      } else {\n        alert('something Went Wrong!');\n      }\n    } else {\n      alert('something Went Wrong!!!');\n    }\n  };\n\n  const getuser = async () => {\n    let response = await fetch('http://localhost:8080/api/booking');\n    let res = await response.json();\n    setdata(res.message);\n    console.log(res);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      align: \"center\",\n      className: \"mt-2\",\n      children: \"Booking List...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-bordered mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"User Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Payment-Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Recipt Url\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data && data.map((value, index) => {\n          let details = JSON.parse(value.room_details);\n          let all_select = \"\";\n\n          if (value.status == 'checkIn') {\n            all_select += `<option value=\"${value.status}\" selected>${value.status}</option>`;\n            all_select += `<option value=\"checkOut\">checkOut</option>`;\n          } else {\n            all_select += `<option value=\"${value.status}\" selected>${value.status}</option>`;\n            all_select += `<option value=\"checkIn\">checkIn</option>`;\n          }\n\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: value.user_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: details.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: details.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: value.payment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: e => selecthandler(e, details._id, value._id),\n                dangerouslySetInnerHTML: {\n                  __html: all_select\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 39\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: value.receipt_url,\n                target: \"_blank\",\n                children: \"Click Here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 43\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: details.image,\n                width: \"150\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 43\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 39\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 35\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 11\n  }, this);\n};\n\n_s(Booking_list, \"SAreMHoDBGGr3T3E7OOau+vtiuc=\");\n\n_c = Booking_list;\nexport default Booking_list;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booking_list\");","map":{"version":3,"names":["React","useState","useEffect","Booking_list","data","setdata","getuser","selecthandler","e","room_id","booking_id","console","log","target","value","status","response","fetch","method","headers","body","JSON","stringify","res","json","success","response2","res2","alert","message","map","index","details","parse","room_details","all_select","user_id","title","price","payment","_id","__html","receipt_url","image"],"sources":["/home/techinfini-19/Desktop/react-tut/room/src/components/Booking_list.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\n\nconst Booking_list = () => {\n\n\n    const [data,setdata] = useState([]);\n\n    useEffect(()=>{\n        getuser();\n    },[])\n\n    const selecthandler = async (e,room_id,booking_id)=>{\n        console.log('value >> ', e.target.value)\n        console.log('room Id >> ', room_id)\n        let status = \"\";\n        if(e.target.value == 'checkOut'){\n            status = 'available';\n        }else{\n            status = 'Booked';\n\n        }\n        let response = await fetch(`http://localhost:8080/api/room/${room_id}`, {\n            method: \"PATCH\",\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ status: status })\n        });\n        let res = await response.json();\n\n        if(res.success){\n            let response2 = await fetch(`http://localhost:8080/api/booking/${booking_id}`, {\n            method: \"PATCH\",\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ status: e.target.value })\n        });\n        let res2 = await response2.json();\n        if(res2.success){\n            alert('Update Successfully!')\n        }else{\n            alert('something Went Wrong!');\n        }\n        }else{\n            alert('something Went Wrong!!!');\n\n        }\n    }\n  \n    const getuser = async () => {\n      let response = await fetch('http://localhost:8080/api/booking');\n      let res = await response.json();\n      setdata(res.message);\n      console.log(res)\n    }\n  \n      return (\n          <div className='container-fluid'>\n              <h1 align=\"center\" className='mt-2'>Booking List...</h1>\n              <table className='table table-bordered mt-5'>\n                  <thead>\n                      <tr>\n                          <th>User Id</th>\n                          <th>Title</th>\n                          <th>Price</th>\n                          <th>Payment-Status</th>\n                          <th>Status</th>\n                          <th>Recipt Url</th>\n                          <th>Image</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      {data && data.map((value, index) => {\n                        let details = JSON.parse(value.room_details)\n                        let all_select = \"\";\n                        if(value.status == 'checkIn'){\n                            all_select+=`<option value=\"${value.status}\" selected>${value.status}</option>`;\n                            all_select+=`<option value=\"checkOut\">checkOut</option>`\n                        }else{\n                            all_select+=`<option value=\"${value.status}\" selected>${value.status}</option>`;\n                            all_select+=`<option value=\"checkIn\">checkIn</option>`\n                        }\n                              return (\n                                  <tr key={index}>\n                                      <td>{value.user_id}</td>\n                                      <td>{details.title}</td>\n                                      <td>{details.price}</td>\n                                      <td>{value.payment}</td>\n                                      <td>\n                                      <select onChange={(e)=>selecthandler(e,details._id,value._id)} dangerouslySetInnerHTML={{__html: all_select}}>\n                                        </select>\n                                        </td>\n                                      <td><a href={value.receipt_url} target=\"_blank\">Click Here</a></td>\n                                      <td><img src={details.image}  width=\"150\"/></td>\n\n                                    </tr>\n  \n                              )\n  \n                      })}\n                  </tbody>\n              </table>\n          </div>\n      )\n}\n\nexport default Booking_list"],"mappings":"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"},"metadata":{},"sourceType":"module"}